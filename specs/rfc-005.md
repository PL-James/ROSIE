---
layout: page
title: "RFC-005: TQ Baseline"
description: Reference dataset and product archetype standards for tool qualification
permalink: /specs/rfc-005/
show_sidebar: true
---

<div class="metadata-table">

| Field  | Value                                                                |
| ------ | -------------------------------------------------------------------- |
| RFC ID | 005                                                                  |
| Title  | ROSIE TQ Baseline: Reference Dataset and Product Archetype Standards |
| Status | Draft                                                                |
| Focus  | GAMP 5, tool validation, product archetypes, SVCV                    |

</div>

---

## 1. Scope

This RFC provides the standard protocol and reference data required to qualify a ROSIE Engine. It also defines product archetypes, ensuring the ROSIE process adapts its validation rigor to the nature of the software product (e.g., microservices, embedded systems, or data pipelines).

---

## 2. The Golden Repository (Reference Data)

The TQ baseline includes a "Golden Repository" containing:

### 2.1 Valid Patterns

100+ variations of `@gxp-` tags across five languages:

| Language | File Extensions | Comment Styles |
|----------|-----------------|----------------|
| C# | `.cs` | `//`, `/* */`, `///` |
| Java | `.java` | `//`, `/* */`, `/** */` |
| Python | `.py` | `#`, `"""` |
| TypeScript | `.ts`, `.tsx` | `//`, `/* */`, `/** */` |
| Go | `.go` | `//`, `/* */` |

### 2.2 Invalid Patterns

Purposely broken scenarios for negative testing:

- Hashes with intentional corruption
- Circular dependencies in trace graphs
- Missing signatures
- Duplicate IDs
- Malformed YAML front matter

### 2.3 Edge Cases

- Non-standard Markdown headers
- Multi-line comments spanning 100+ lines
- Unicode characters in IDs
- Deeply nested trace hierarchies

---

## 3. Product Archetypes and Archetype-Specific Validation (ASV)

Not all GxP products are built equally. The ROSIE Engine must recognize the product archetype declared in the `gxp-product.md` manifest and adjust the Integrity Guard ([RFC-002](/specs/rfc-002/)) accordingly.

### 3.1 Archetype Definitions

| Archetype      | Examples              | Validation Focus                | Evidence Requirements          |
| -------------- | --------------------- | ------------------------------- | ------------------------------ |
| SaaS/Cloud     | Web apps, portals     | Multi-tenancy, session auth     | PQ screenshots, API logs       |
| Embedded/Edge  | Device firmware, IoT  | Memory safety, hardware interop | Unit test coverage, IQ hashes  |
| Data/AI        | Analytics, ML models  | Data lineage, reproducibility   | Model weights, dataset hashes  |
| Infrastructure | Platform-as-a-service | Security guardrails, networking | Terraform state, config drifts |

### 3.2 Archetype Declaration

```yaml
# gxp-product.md
gxp_metadata:
  archetype: "SaaS/Cloud"
  asv_profile: "standard"
```

### 3.3 ASV Profiles

| Profile | Evidence Level | Review Rigor | Use Case |
|---------|----------------|--------------|----------|
| `minimal` | Logs only | AI review | Low-risk utilities |
| `standard` | Logs + screenshots | AI + spot human review | Most products |
| `rigorous` | Full evidence + video | AI + full human review | High-risk/regulated |

---

## 4. Product-Level Inheritance

For products consisting of multiple repositories, the ROSIE Engine must support validation inheritance.

### 4.1 Shared Libraries

If a product depends on a validated internal library, the engine verifies the dependency's Release Readiness Token (RRT) rather than re-validating the library code.

```yaml
# gxp-product.md
dependencies:
  - repo: "github.com/org/shared-auth"
    id_prefix: "AUTH-"
    rrt_required: true
```

### 4.2 Aggregated RTM

The engine must generate a master traceability matrix that merges nodes from all sub-component repositories.

```
MASTER-RTM
├── LDPC (this repo)
│   ├── LDPC-URS-*
│   ├── LDPC-DS-*
│   └── LDPC-OQ-*
└── AUTH (dependency)
    ├── AUTH-URS-*
    └── AUTH-DS-*
```

---

## 5. Self-Validating Continuous Validation (SVCV)

To achieve self-validating status, the ROSIE Engine must perform recursive verification of its own integrity during every CI/CD run.

### 5.1 Recursive Integrity Check

| Step | Action | Failure Mode |
|------|--------|--------------|
| 1 | **Tool self-test**: Run a subset of the Golden Repository against the engine | Pipeline halted |
| 2 | **Engine checksum**: Verify the engine binary/image hash against a known-good hash stored in the SoR | Pipeline halted |
| 3 | **Proceed**: Only if steps 1-2 pass, scan production code | N/A |

### 5.2 Automated Deviation Reporting

- **Auto-log**: Any failure of the Hard-Gate ([RFC-002](/specs/rfc-002/)) must automatically generate a deviation report in the SoR
- **Root cause tagging**: The AI agent ([RFC-002](/specs/rfc-002/)) identifies which requirements (URS/FRS) are breached by the current code state

---

## 6. Operational Qualification (OQ) Protocol

To pass OQ, a ROSIE Engine must achieve:

| Metric | Target | Measurement |
|--------|--------|-------------|
| Extraction recall | 100% | No tags missed from Golden Repository |
| Extraction precision | 100% | No false positives generated |
| Gate fidelity | 100% | Correct rejection of all invalid-pattern commits |
| Archetype awareness | 100% | Correct ASV rule application based on manifest |

### 6.1 OQ Test Suite

```
oq-suite/
├── extraction/
│   ├── test-csharp-patterns.md
│   ├── test-java-patterns.md
│   ├── test-python-patterns.md
│   ├── test-typescript-patterns.md
│   └── test-go-patterns.md
├── gate-fidelity/
│   ├── test-missing-signature.md
│   ├── test-hash-tamper.md
│   └── test-circular-dependency.md
└── archetype/
    ├── test-saas-profile.md
    ├── test-embedded-profile.md
    └── test-data-ai-profile.md
```

---

## 7. Performance Qualification (PQ) Protocol

| Metric | Target | Measurement |
|--------|--------|-------------|
| Throughput | < 60 seconds | Process a 1,000-file repo |
| Persistence | Verified | SoR correctly archives the evidence package |
| Latency | Monitored | Continuous tracking of time-to-trace |

---

## 8. Continuous Validation Lifecycle

| Stage  | Action                     | Validation Artifact           |
| ------ | -------------------------- | ----------------------------- |
| Commit | Sync and semantic check    | Proposed trace graph          |
| Build  | Engine self-test           | Tool health certificate       |
| Test   | Evidence capture ([RFC-003](/specs/rfc-003/)) | Execution evidence (JSON)     |
| Merge  | Hard-Gate RRT issue        | Automated release certificate |

---

## 9. Qualified Wrapper Gap

This RFC serves as primary evidence for the qualified wrapper gap and establishes the framework for self-validating continuous validation across diverse product archetypes.

### 9.1 Wrapper Gap Definition

The "qualified wrapper gap" is the assurance that:

1. The ROSIE Engine is itself validated (via OQ/PQ)
2. Products validated by ROSIE inherit this assurance
3. The recursive self-test proves this inheritance on every run

---

## Related RFCs

- [RFC-001: Data Standard](/specs/rfc-001/) — Tag patterns validated by the Golden Repository
- [RFC-002: Engine Spec](/specs/rfc-002/) — Engine behavior qualified by OQ/PQ
- [RFC-003: Evidence Standard](/specs/rfc-003/) — Evidence format for qualification tests
- [RFC-004: API Interface](/specs/rfc-004/) — API endpoints used during qualification
